{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Lesson Schema",
  "description": "Schema for language learning lessons",
  "type": "object",
  "required": [
    "id",
    "title",
    "language",
    "targetLanguage",
    "difficulty",
    "contentType",
    "content",
    "estimatedDuration",
    "createdAt",
    "updatedAt"
  ],
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the lesson"
    },
    "title": {
      "type": "string",
      "minLength": 1,
      "maxLength": 200,
      "description": "Lesson title"
    },
    "description": {
      "type": "string",
      "maxLength": 500,
      "description": "Optional lesson description"
    },
    "language": {
      "type": "string",
      "enum": [
        "en", "es", "fr", "de", "it", "pt", "ru", "ja", "ko", "zh", "ar", "hi", "th", "vi", "tr", "pl", "nl", "sv", "da", "no", "fi"
      ],
      "description": "Source language code"
    },
    "targetLanguage": {
      "type": "string",
      "enum": [
        "en", "es", "fr", "de", "it", "pt", "ru", "ja", "ko", "zh", "ar", "hi", "th", "vi", "tr", "pl", "nl", "sv", "da", "no", "fi"
      ],
      "description": "Target language code"
    },
    "difficulty": {
      "type": "string",
      "enum": ["beginner", "intermediate", "advanced"],
      "description": "Difficulty level"
    },
    "contentType": {
      "type": "string",
      "enum": ["lesson", "quiz", "flashcard", "exercise", "conversation"],
      "description": "Type of content"
    },
    "content": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "text": {
          "type": "string",
          "minLength": 1,
          "description": "Main lesson text content"
        },
        "audioUrl": {
          "type": "string",
          "format": "uri",
          "description": "Optional audio URL"
        },
        "imageUrl": {
          "type": "string",
          "format": "uri",
          "description": "Optional image URL"
        },
        "videoUrl": {
          "type": "string",
          "format": "uri",
          "description": "Optional video URL"
        }
      },
      "additionalProperties": false
    },
    "translations": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["language", "text"],
        "properties": {
          "language": {
            "type": "string",
            "enum": [
              "en", "es", "fr", "de", "it", "pt", "ru", "ja", "ko", "zh", "ar", "hi", "th", "vi", "tr", "pl", "nl", "sv", "da", "no", "fi"
            ]
          },
          "text": {
            "type": "string",
            "minLength": 1
          },
          "audioUrl": {
            "type": "string",
            "format": "uri"
          }
        },
        "additionalProperties": false
      },
      "description": "Translations of the lesson content"
    },
    "vocabulary": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["word", "translation"],
        "properties": {
          "word": {
            "type": "string",
            "minLength": 1
          },
          "translation": {
            "type": "string",
            "minLength": 1
          },
          "pronunciation": {
            "type": "string"
          },
          "audioUrl": {
            "type": "string",
            "format": "uri"
          },
          "difficulty": {
            "type": "string",
            "enum": ["beginner", "intermediate", "advanced"]
          }
        },
        "additionalProperties": false
      },
      "description": "Vocabulary words for the lesson"
    },
    "grammar": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["rule", "examples"],
        "properties": {
          "rule": {
            "type": "string",
            "minLength": 1
          },
          "examples": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minItems": 1
          },
          "explanation": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "description": "Grammar rules covered in the lesson"
    },
    "estimatedDuration": {
      "type": "number",
      "minimum": 1,
      "description": "Estimated duration in minutes"
    },
    "prerequisites": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "uuid"
      },
      "description": "Required lesson IDs"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Lesson tags for categorization"
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "Creation timestamp"
    },
    "updatedAt": {
      "type": "string",
      "format": "date-time",
      "description": "Last update timestamp"
    }
  },
  "additionalProperties": false
}